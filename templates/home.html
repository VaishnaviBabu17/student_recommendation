<!DOCTYPE html>
<html>
<head>
    <title>Student Recommendation System</title>
</head>

<body>

<h2>Student Academic Recommendation System</h2>

<form method="POST">
    {% csrf_token %}

    <h3>Student Details</h3>

    Register No:
    <input type="text" name="reg_no"><br><br>

    Name:
    <input type="text" name="name"><br><br>

    Department:
    <input type="text" name="department"><br><br>

    Year:
    <input type="number" name="year"><br><br>

    Semester:
    <input type="number" name="semester"><br><br>

    <input type="submit" value="Load Subjects">
</form>

<hr>

{% if subjects %}

<h3>Enter Marks and Attendance</h3>

<form method="POST">
    {% csrf_token %}

    {% for sub in subjects %}
        <h4>{{ sub }}</h4>

        Marks:
        <input type="number" name="{{ sub }}_marks"><br>

        Classes Attended:
        <input type="number" name="{{ sub }}_attended"><br>

        Total Classes:
        <input type="number" name="{{ sub }}_total"><br><br>

    {% endfor %}

    <input type="submit" value="Get Recommendation">
</form>

{% endif %}

{% if recommendations %}

<h3>Recommendations</h3>

{% for subject, data in recommendations.items %}

    <h4>{{ subject }}</h4>
    Marks: {{ data.marks }} <br>
    Attendance: {{ data.attendance }} % <br>

    <b>Suggestions:</b>
    <ul>
        {% for r in data.recommendations %}
            <li>{{ r }}</li>
        {% endfor %}
    </ul>

{% endfor %}

{% endif %}
